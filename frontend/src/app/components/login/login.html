<div class="min-vh-100 d-flex flex-column flex-lg-row">
    <div class="col-12 col-lg-7 split-left bg-login-image d-flex align-items-center justify-content-center p-5" 
         [style.--login-bg-image]="'linear-gradient(135deg, rgba(112, 66, 148, 0.9), rgba(197, 70, 142, 0.9)), url(' + IMAGE_PATHS.LOGIN_BG + ')'">
        <div class="text-white animate-fade-in text-center text-lg-left">
            <h2 class="h3 font-weight-bold mb-2">Enterprise Messaging</h2>
            <p class="smallest opacity-75 mb-3">Connect, communicate, and deliver with confidence using the TP Mailer platform.</p>
            <div class="mt-4 d-none d-lg-block">
                <img [src]="IMAGE_PATHS.LOGIN_ENTERPRISE" 
                     alt="Enterprise Communication" 
                     class="img-fluid rounded-lg shadow-lg opacity-90 hover-lift enterprise-img">
            </div>
        </div>
    </div>
    <div class="col-12 col-lg-5 split-right d-flex align-items-center justify-content-center bg-soft-light">
        <div class="form-wrapper p-3 p-md-4 animate-slide-up">
            <div class="app-header text-center mb-3">
                <!-- Inline SVG logo to avoid external fetch/cache issues -->
                <svg class="app-logo" xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 96 96" role="img" aria-label="TP Mailer">
                  <defs>
                    <linearGradient id="g2" x1="0" x2="1" y1="0" y2="1">
                      <stop offset="0%" stop-color="#6F48B6"/>
                      <stop offset="100%" stop-color="#C5468E"/>
                    </linearGradient>
                  </defs>
                  <rect rx="14" width="96" height="96" fill="url(#g2)" />
                  <text x="50%" y="54%" font-family="Nunito, Arial, sans-serif" font-weight="700" font-size="30" fill="#fff" text-anchor="middle" alignment-baseline="middle">TP</text>
                </svg>
                <div>
                    <div class="app-name smallest font-weight-bold">TP Mailer <i class="fas fa-envelope symbol-icon"></i></div>
                    <div class="app-tagline smallest text-muted">Secure mailing and delivery platform</div>
                </div>
            </div>


            @if (errorMessage) {
                <div class="alert alert-danger border-left-danger shadow-sm smallest animated shake py-2">
                    <i class="fas fa-exclamation-triangle mr-2"></i>
                    {{ errorMessage }}
                </div>
            }

            <form (submit)="onSubmit($event)" class="user">
                <div class="form-group mb-2">
                    <label class="smallest font-weight-bold text-dark ml-1" for="loginEmail">Email Address</label>
                    <div class="input-with-icon">
                        <i class="fas fa-envelope smallest"></i>
                        <input class="form-control form-control-sm" id="loginEmail" [(ngModel)]="userLogin.Email" name="Email" type="email" placeholder="email@example.com" required title="Enter your email" />
                    </div>
                </div>
                <div class="form-group mb-3">
                    <label class="smallest font-weight-bold text-dark ml-1" for="loginPassword">Password</label>
                    <div class="input-with-icon">
                        <i class="fas fa-lock smallest"></i>
                        <input type="password" id="loginPassword" class="form-control form-control-sm" [(ngModel)]="userLogin.Password" name="Password" placeholder="Your password" required title="Enter your password" />
                    </div>
                </div>

                <button type="submit" class="btn btn-primary btn-sm btn-block shadow-sm mb-2">
                    <i class="fas fa-sign-in-alt mr-2"></i>Sign In
                </button>

                <div class="text-center my-2">
                    <div class="hr-text smallest"><span>OR</span></div>
                </div>

                <button type="button" (click)="onAzureLogin()" class="btn btn-outline-primary btn-sm btn-block shadow-sm">
                    <i class="fab fa-microsoft mr-2"></i>Login with Azure AD
                </button>

                <hr class="my-3">
                <div class="text-center">
                    <a class="smallest font-weight-bold" routerLink="/Account/Registration">Create an Account!</a>
                </div>
            </form>
            <div class="text-center mt-3">
                <p class="smallest text-muted mb-0">&copy; Teleperformance 2026. All rights reserved.</p>
            </div>
        </div>
    </div>
</div>
